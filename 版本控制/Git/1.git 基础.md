# Git 基础入门

## 1. 取得项目的 git 仓库

### 1. 初始化 git 仓库
对现有的仓库进行 git 管理，只需要使用终端进入到需要 git 管理的目录下，执行如下操作：

```
git init
```

这样一个 git 本地仓库就初始化成功了。初始化后，使用 `ls -a` 可以查看当前目录下的隐藏文件夹，可以看到目录下有一个 .git 的文件夹，所有 git 需要的资源和目录都存在于该文件夹下。但这仅仅只是初始化了一个 git 本地仓库，我们并没有对该仓库下的任何文件进行追踪处理。


### 2. 添加文件到暂存区
如果我们当前的目录有几个文件需要 git 进行追踪管理，我们可以使用 ` git add ` 命令告诉 git 对哪些文件进行追踪。


```
git add "fileName"

```

### 3. 提交暂存区的文件
执行了 `git add` 指令之后，此时文件仅仅只是被添加到了暂存区，文件还并未被添加到本地仓库的记录中，我们需要执行 `git commit ` 命令来对本次修改做出提交。

```
git commit -m "本次提交的注释"
```

注释是必不可少的一部分，如果你没有填写注释， git 将不允许你进行本次提交。


### 4. 查看提交记录

提交完成后，如果我们想对之前提交的记录进行查看操作，以便我们能够知道是谁修改了文件或者是谁提交了文件，此时我们需要执行 `git log` 命令。

```
git log
```

执行后我们可以清楚的看到之前全部的提交记录。

### 5. 提交后如何查看文件状态

如果我们忘记执行某一条指令，不确定某一些文件是否执行了 `git add` 或者 `git commit`，此时我们可以使用 `git status` 来查看当前分支下文件的状态：

```
git status
```

### 6. 从远程克隆仓库

如果你想在 github 上对一个开源项目出一份力量，可以把该项目的 Git 仓库复制出来一份保存在本地，这个时候我们就需要用到 `git clone` 指令。我们通常讲这个步骤叫做克隆，克隆的命令格式：
`git clone [url]`

```
git clone git://github.com/xxx.git
```

此命令的结果就是会在当前目录下创建一个名为 `xxx` 的目录，里面会包含一个 `.git` 的目录，用于保存下载下来的版本记录。进入到这个目录中，你会看到项目中所有的文件都在这个目录中了。


如果我们不想使用远程仓库克隆下来的仓库名称，我们也可以给仓库另外取一个名称。

```
git clone git://github.com/selfassu/xxx.git newName.git
```
执行后你就可以看到当前目录下有一个名称为 newName 的文件夹了，这个就是我们克隆远程仓库下面的拷贝。


git 支持许多数据传输协议。之前我们都是使用 `git://`，如果你不喜欢这种方式，你也可以使用 `https://` 协议。

## 2. 记录每次的更新到仓库

现在我们手上已经有了一个真实项目的 git 拷贝，当我们对项目中的文件作出了部分更改，将如何把我们的修改提交到仓库呢？

注意：工作目录下的所有文件都只有两种状态：已跟踪或者未跟踪。记住：已跟踪的文件是指本来就已经纳入了版本控制区域之内，上次的快照中有它的相关记录，工作一段时间后，它们的状态可能会发生变化，可能是未更新，已经修改或者已经放入暂存区。而其他的文件则属于未跟踪，他们没有上次的快照，也没有在当前的暂存区。

第一次克隆某个仓库的时候，工作目录中的所有文件都属于已跟踪的文件，并且状态都是未修改。在哦编辑过某一些文件后，这些编辑过后的文件状态便变成了已修改，我们可以使用 `git add` 指令将这些已修改的文件逐步添加到暂存区，最后一次性提交所有暂存起来的文件。

### 2.1 检查当前文件的状态
如果要确定哪些文件当前处于的状态，可以使用 `git status` 命令。

```
git status
```

执行结果如下：

```
$ git status
	# On branch master
	nothing to commit (working directory clean)
```
上面的输出显示了当前是在主分支（master）下面，并且我们当前的工作空间比较干净。

新建一个 ReadMe.md 文件，再次运行 `git status` 指令，我们可以看到如下输出：

```
$ git status
# Onbranch master
# Untracked files:
# 
# ReadMe.md
```
以上输出表示我们新建的 ReadMe.md 文件处于未追踪的范围之内，`git` 不会主动将未追踪的文件纳入版本管理，除非你明确的告诉它“需要去追踪这个文件”。

### 2.2 跟踪新文件

使用 `git add` 命令开始跟踪一个未追踪的文件，例如追踪 ReadMe.md 文件：

```
git add ReadMe.md
```

此时再运行 `git status`，你会看到如下输出：

```
$ git status
	# On branch master
	# Changes to be committed:
	# 
	# new file: ReadMe.md
```

以上输出表明了我们的 ReadMe.md 文件已经被追踪，并且已经添加到了暂存区。如果此时执行提交，该文件此时此刻的版本将被记录在历史记录中。

### 2.3 取消已经暂存（也就是已经执行 git add 指令后的文件）文件
如果你因为误操作，使用 `git add .` 操作将所有文件都添加到了暂存区，而你又不想把某一个文件提交，这个时候我们可以通过 `git reset head` 指令来取消把某一文件添加到暂存区。例如我们把 ReadMe.md 文件取消添加到暂存区：

```
git reset HEAD ReadMe.md
```

在使用 `git status` 查看，你会发现 ReadMe.md 文件已经不在暂存区中了。


## 2.4 取消对文件的修改
如果我们又发现刚才对 ReadMe.md 的文件修改没有必要，那我们又如何取消修改呢？使用 `git checkout` 可以解决我们的困扰：

`
git checkout test01.java
`

再使用 `cat` 指令查看文件的内容，你会发现文件已经回滚到了上一次提交的时候。

## 2.5 远程仓库的使用
要查看当前本地仓库中是否配置有远程仓库，可以使用 `git remote` 指令。

```
git remote

//output
origin
``` 

`git remote` 会列出每个远程仓库的简短名字，在克隆完一个项目后，至少可以看到有一个名称为 `origin` 的远程库，Git 默认使用这个名字来标识你所克隆的原始仓库。

也可以在指令后面加上 `-v` 选项，来显示对应的克隆地址：

```
git remote -v
```

## 2.6 添加远程仓库
要添加一个新的远程仓库，可以指定一个简单的名字，以便用来引用。执行

```
git remote add [shortname] [url];
```









